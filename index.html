<!doctype>
<html>

<head>
    <title>abi2html</title>
    <link rel="stylesheet" href="index.css">
    <script type="text/javascript" src="./dist/bignumber.min.js"></script>
    <script type="text/javascript" src="./dist/web3-light.min.js"></script>
    <script type="text/javascript" src="./lib/abi2html.js"></script>
    <script type="text/javascript">
    var abihtml

    /***

       This is all stuff that Mist should handle, but is included for dev purposes

       ***/

    var testConnection = function(ip, port) {
        if (!ip) ip = '127.0.0.1'
        if (!port) port = '8545'

        if (!web3.currentProvider)
            web3.setProvider(new web3.providers.HttpProvider('http://' + ip + ':' + port));

        try {
            web3.eth.accounts
        } catch (e) {
            console.log(e.toString())
            return false
        }
        return true
    }

    var updateGasprice = function() {
        var gasPrice = web3.eth.gasPrice
        document.getElementById('gasprice-amount').value = web3.fromWei(gasPrice, document.getElementById('gasprice-unit').value)
        document.getElementById('network-gasprice').innerHTML = formattedBalance(gasPrice, document.getElementById('gasprice-unit').value)
    }

    var connectInstance = function() {
        if (!testConnection(document.getElementById('instance-hostname').value, document.getElementById('instance-port').value)) {
            makeNotification('Could not connect to Ethereum client', 'error')
        } else {
            makeNotification('Connected', 'success')
        }
    }

    var watchBlocks = function() {
        makeNotification('Watching incoming blocks')
        var filter = web3.eth.filter('latest')
        if (!filter)
            makeNotification('Problem creating filter', 'warning')
        else
            filter.watch(function(err, result) {
                console.log('Saw new block', result);
                var block = web3.eth.getBlock(result)
                updateWithBlock(block)
                updateBalances()
            })
    }

    var getEvents = function(shouldWatch, callback) {
        var opts = getTransactionOptions()
        if (opts.to) {
            for (var name in abihtml.events) {
                var ev = abihtml.events[name]

                if (shouldWatch)
                    ev.Watch({
                        address: opts.to
                    }, {}, callback)
                else
                    ev.Get({
                        address: opts.to
                    }, {}, callback)

            }
        }
    }

    var updateDashboard = function() {
        // set network gas estimate
        updateGasprice()

        // set addresses select
        updateBalances()

        // update block info
        updateWithBlock(web3.eth.getBlock('latest'))

        // show maximum cost of transaction
        renderTxCostTotal()

        updateToBalance()

    }

    var updateWithBlock = function(block) {
        if (block) {
            document.getElementById('block-height').innerHTML = block.number
            document.getElementById('block-hash').innerHTML = block.hash
        }
    }

    var updateBalances = function() {
        var select = document.getElementById('sender-address')
        select.options.length = 0;
        var accounts = web3.eth.accounts
            // accounts.forEach(function(address) {

        for (var i = 0; i < accounts.length; i++) {
            var address = accounts[i]
            var balance = web3.eth.getBalance(address)
            var text = formattedBalance(balance, document.getElementById('value-unit').value)
            var option = document.createElement('option')
            option.value = address
            option.innerHTML = address + ' (' + text + ')'
            select.options.add(option)
        }
    }

    var renderTxCostTotal = function() {
        var gas = document.getElementById('gas').value
        var gaspriceWei = web3.toWei(document.getElementById('gasprice-amount').value, document.getElementById('gasprice-unit').value)
        var totalwei = gaspriceWei * gas
        var text = formattedBalance(totalwei, document.getElementById('value-unit').value)
        document.getElementById('txcost-total').innerHTML = text
    }

    var formattedBalance = function(weiAmount, unit) {
        return web3.fromWei(weiAmount, unit) + ' ' + unit
    }

    var getTransactionOptions = function() {
        return {
            from: document.getElementById('sender-address').value,
            to: document.getElementById('contract-address').value,
            value: web3.toWei(document.getElementById('value-amount').value, document.getElementById('value-unit').value),
            gas: document.getElementById('gas').value,
            gasPrice: web3.toWei(document.getElementById('gasprice-amount').value, document.getElementById('gasprice-unit').value),
        }
    }

    /***

    Convenience functions for this DApp

    ***/

    var callAjax = function(url, callback) {
        var xmlhttp;
        // compatible with IE7+, Firefox, Chrome, Opera, Safari
        xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                callback(xmlhttp.responseText);
            }
        }
        xmlhttp.open("GET", url, true);
        xmlhttp.send();
    }

    var getParameterByName = function(name) {
        name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
            results = regex.exec(location.search);
        return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
    }



    var loadSolidityGist = function(response, callback) {
        result = JSON.parse(response)
        if (result) {
            for (var f in result.files) {
                var content = result.files[f].content

                document.getElementById('contract').style.display = 'block'
                document.getElementById('contract-code').value = content

                document.getElementById('abi').style.display = 'none'
                document.getElementById('contract-abi').value = ''

                document.getElementById('tab-container').children[0].innerHTML = ''

                compileSolidity(content, function(err, results) {

                    if (err)
                        makeNotification(err.toString(), 'error')
                    else
                    if (typeof callback === "function")
                        callback(content)
                })

                break //only support first file
            }
        }
    }


    var loadAbiGist = function(response, callback) {
        result = JSON.parse(response)
        if (result) {
            for (var f in result.files) {
                var content = result.files[f].content


                document.getElementById('contract').style.display = 'none'
                document.getElementById('contract-code').value = ''

                document.getElementById('abi').style.display = 'block'
                document.getElementById('contract-abi').value = content

                document.getElementById('tab-container').children[0].innerHTML = ''

                if (typeof callback === "function")
                    callback(content)
                break //only support first file
            }
        }
    }


    var updatePageWithContract = function(results) {
        // update contract selector
        select = document.getElementById('contract-selector');
        select.options.length = 0;
        for (var k in results) {
            var obj = results[k];
            var el = document.createElement('option');
            el.textContent = k;
            el.value = JSON.stringify(results[k]);
            select.options.add(el);
        }

        // set index && display abi
        select.selectedIndex = 0
        var userContract = JSON.parse(select.options[0].value)

        document.getElementById('contract-abi').value = JSON.stringify(userContract.info.abiDefinition)
        document.getElementById('contract-selector').disabled = false
        document.getElementById('deploy-contract').disabled = false

        // generatePage(abihtml)
        // makeEventList(abihtml)
    }



    var makeEventList = function(abihtml) {
        var select = document.getElementById('event-list')
        select.options.length = 0

        var first = document.createElement('option')
        first.textContent = '<none>'
        first.value = ''
        select.options.add(first)

        for (var name in abihtml.events) {
            var el = document.createElement('option')
            el.textContent = name
            el.value = name
            select.options.add(el)
        }

        var last = document.createElement('option')
        last.textContent = '<all>'
        last.value = '*'
        select.options.add(last)

        select.selectedIndex = 0

    }

    var generatePage = function(abihtml) {
        if (!abihtml)
            abihtml = new AbiHtml(document.getElementById('contract-abi').value)

        if (abi) {
            document.getElementById('tab-container').children[0].innerHTML = ''

            // for (var i = 0; i < abihtml.functions.length; i++) {
            //     abihtml.functions[i]
            // }

            var funcs = []
            var i = 0
            for (var name in abihtml.functions) {
                i++
                funcs.push(abihtml.functions[name])

            }

            funcs.sort(function(a, b) {
                if (a.name < b.name) return -1
                if (a.name > b.name) return 1
                return 0
            })
            funcs.forEach(function(f) {
                var dom = makeFunction(abihtml.functions[f.name])
                makeNav(dom, abihtml.functions[f.name])
            })
            setSelectedTab()
        }
    }

    var makeNav = function(htmlDom, evmFunction) {
        var name = htmlDom.childNodes[0].innerHTML
        var li = document.createElement('li')
        var a = document.createElement('a')
        if (evmFunction.outputs.length > 0)
            a.className += ' call'
        if (!evmFunction.constant)
            a.className += ' transact'
        a.href = '#' + name
        a.innerHTML = name
        a.addEventListener('click', function() {
            window.location = a.href
            setSelectedTab()
        }, false)
        li.appendChild(a)

        var ul = document.getElementById('tab-container').children[0]
        ul.appendChild(li)

        htmlDom.style.display = 'none'
        var main = document.getElementById('main-container')
        main.appendChild(htmlDom)
        main.style.display = 'block'
    }

    var makeFunction = function(evmFunction) {
        var div = document.createElement('div')
        div.className = ['function'].join(' ')
        div.id = 'function' + evmFunction.name

        var h3 = document.createElement('h3')
        h3.innerHTML = evmFunction.name
        div.appendChild(h3)

        if (evmFunction.outputs.length > 0) {
            var btn = document.createElement('button')
            btn.type = 'button'
            btn.id = [evmFunction.name, "call"].join(evmFunction.config.idJoinString)
            btn.innerHTML = "Call"
            btn.addEventListener('click', function(ev) {
                evmFunction.Call(getTransactionOptions())
            })
            div.appendChild(btn)
        }

        if (!evmFunction.constant) {
            var tbtn = document.createElement('button')
            tbtn.type = 'button'
            tbtn.id = [evmFunction.name, "transact"].join(evmFunction.config.idJoinString)
            tbtn.innerHTML = "Transact"
            tbtn.addEventListener('click', function(ev) {
                evmFunction.Transact(getTransactionOptions(), function(err, txhash) {
                    if (err) {
                        makeNotification(err.toString(), 'error')
                    } else {
                        makeNotification('Sent transaction: <pre>' + txhash + '</pre>', 'warning')
                    }
                })
            })
            div.appendChild(tbtn)
        }



        if (evmFunction.inputs.length > 0) {
            var fs = document.createElement('fieldset')
            fs.className = 'inputs'

            var leg = document.createElement('legend')
            leg.innerHTML = 'Inputs'
            fs.appendChild(leg)

            evmFunction.inputs.forEach(function(field) {
                fs.appendChild(field.renderDom(true))
            })
            div.appendChild(fs)
        }

        if (evmFunction.outputs.length > 0) {
            var fso = document.createElement('fieldset')
            fso.className = 'outputs'

            var leg = document.createElement('legend')
            leg.innerHTML = 'Outputs'
            fso.appendChild(leg)

            evmFunction.outputs.forEach(function(field) {
                fso.appendChild(field.renderDom(false))
            })
            div.appendChild(fso)
        }

        return div
    }

    var makeContract = function(result) {
        // get transaction to see if it's been mined
        var transaction = web3.eth.getTransaction(result.transactionHash)
            // console.log(transaction)

        // if no blockhash, set a timer and try later
        if (!transaction.blockHash) {
            setTimeout(function() {
                makeContract(result)
            }, 5000)
            return
        }

        // if we have a blockhash, we should find a receipt
        var receipt = web3.eth.getTransactionReceipt(result.transactionHash, function(error, receipt) {
            // if no address found, inform the user
            if (!receipt.contractAddress) {
                console.log('This should have a contractAddress', receipt)
                var text = 'Contract in transaction <pre>' + result.transactionHash + '</pre> mined in block <pre>' + transaction.blockHash + '</pre>  (height ' + transaction.blockNumber + ') but receipt has no creation address'
                makeNotification(text, 'warning')
                return
            }

            var dl = document.createElement('dl')
            var dtHeight = document.createElement('dt')
            var ddHeight = document.createElement('dd')

            dtHeight.innerHTML = 'Block number:'
            ddHeight.innerHTML = receipt.blockNumber

            dl.appendChild(dtHeight)
            dl.appendChild(ddHeight)

            var dtAddress = document.createElement('dt')
            var ddAddress = document.createElement('dd')

            dtAddress.innerHTML = 'New address:'
            dl.appendChild(dtAddress)

            ddAddress.innerHTML = receipt.contractAddress
            dl.appendChild(ddAddress)

            var dtGas = document.createElement('dt')
            var ddGas = document.createElement('dd')

            dtGas.innerHTML = 'Gas used:'
            dl.appendChild(dtGas)

            ddGas.innerHTML = receipt.gasUsed
            dl.appendChild(ddGas)

            makeNotification(dl, 'success')
            document.getElementById('contract-address').value = receipt.contractAddress
        })
    }


    var sendValue = function() {
        var cb = function(error, result) {
            if (error) {
                makeNotification(error.toString(), error)
            } else
                renderTransactionHash(result)

        }
        web3.eth.sendTransaction(getTransactionOptions(), cb)
    }

    var makeNotification = function(obj, className) {
        var htmlDom
        if (typeof obj === "object" && "nodeType" in obj) {
            // looks like HTML Element
            htmlDom = obj
        } else if (typeof obj === "string") {
            // looks like string
            var htmlDom = document.createElement('p')
            htmlDom.innerHTML = obj
        }

        var parElement = document.createElement('div')
        if (className)
            parElement.className = className
        var btn = document.createElement('button')
        btn.innerHTML = 'Dismiss'
        btn.addEventListener("click", function() {
            parElement.style.display = 'none'
        })

        parElement.appendChild(btn)
        parElement.appendChild(htmlDom)

        // append the entry and the top
        var el = document.getElementById('notifications')
        el.insertBefore(parElement, el.childNodes[0])

    }

    var displayTab = function(htmlId) {
        var target = document.getElementById('function' + htmlId)
        var parent = document.getElementById('main-container')
        for (var i = 0; i < parent.childNodes.length; i++) {
            var child = parent.childNodes[i]
            if (child.tagName == 'DIV')
                child.style.display = 'none'
        }
        target.style.display = 'block'
    }

    var setSelectedTab = function() {
        var el = document.getElementById('tab-container')
        var x = el.querySelectorAll("ul>li>a")
        for (var i = 0; i < x.length; i++) {
            var item = x[i]
            if (item.href == window.location.href) {
                item.parentNode.className = 'selected'
                var htmlId = item.getAttribute('href').substring(1, item.href.length)
                displayTab(htmlId)
            } else {
                item.parentNode.className = item.parentNode.className.replace('selected', '')
            }
        }

    }

    var compileContract = function(code, callback) {
        if (!code)
            code = document.getElementById('contract-code').value
        if (!callback)
            callback = updatePageWithContract

        if (code)
            compileSolidity(code, function(err, results) {
                if (err) {
                    makeNotification(err.toString(), 'error')
                } else {
                    if (typeof callback === "function")
                        callback(results)
                }
            })
    }

    var compileSolidity = function(sourceString, callback) {
        var c = web3.eth.getCompilers()
        var i = 0;
        for (; i < c.length; i++) {
            if (c[i] == 'Solidity')
                break;
        }
        if (i < c.length) {
            web3.eth.compile.solidity(sourceString, callback)
        } else {
            makeNotification('Solidity compiler not available', 'warning')
        }
    }

    var deployContract = function() {
        var select = document.getElementById('contract-selector')
        var userContract = JSON.parse(select.options[select.selectedIndex].value)

        var createCallback = function(error, result) {
            if (!error) {
                // var receipt = web3.eth.getTransactionReceipt(result.transactionHash, function(receipt) {
                var p = document.createElement('p')
                if (result) {
                    makeNotification('Deployed contract in transaction: <pre>' + result.transactionHash + '</pre>', 'warning')
                } else {
                    makeNotification('Did not deploy contract', 'error')
                    return
                }


                if (!result.address) {
                    setTimeout(function() {
                        makeContract(result)
                    }, 5000)
                } else {
                    makeContract(result)
                }


            } else {
                makeNotification(error.toString(), 'error')
            }
        }


        var options = getTransactionOptions()
        options.data = userContract.code
        web3.eth.contract(userContract.info.abiDefinition).new(options, createCallback)
    }

    var updateToBalance = function() {
        var address = document.getElementById('contract-address').value
        if (address) {
            try {
                var balance = web3.eth.getBalance(address)
                if (balance)
                    document.getElementById('contract-balance').innerHTML = formattedBalance(balance, document.getElementById('value-unit').value)
            } catch (e) {
                document.getElementById('contract-balance').innerHTML = ''
            }
        } else {
            document.getElementById('contract-balance').innerHTML = ''
        }
    }


    var clearNotifications = function() {
        document.getElementById('notifications').innerHTML = ''
    }

    var filterEvents = function(filterFields) {
        if (!filterFields)
            filterFields = {}

        var contractName = document.getElementById('event-list').value
        var options = getTransactionOptions()
        clearNotifications()

        if (contractName === "*") {
            abihtml.GetEvents({
                address: options.to
            }, filterFields, function(htmlDom) {
                makeNotification(htmlDom)
            })
        } else if (contractName in abihtml.events)
            abihtml.events[contractName].Get({
                address: options.to
            }, filterFields, function(htmlDom) {
                makeNotification(htmlDom)
            })


    }


    var setHandlers = function() {
        document.getElementById('clear-notifications').addEventListener('click', clearNotifications, false)
        document.getElementById('generate-page').addEventListener('click', function() {
            var abi = document.getElementById('contract-abi').value
            if (abi) {
                abihtml = new AbiHtml(abi)
            }
            generatePage()
            makeEventList(abihtml)
        }, false)

        document.getElementById('contract-address').addEventListener('keyup', updateToBalance, false)
        document.getElementById('contract-address').addEventListener('change', updateToBalance, false)
        document.getElementById('compile-contract').addEventListener('click', function() {
            if (testConnection)
                compileContract(document.getElementById('contract-code').value, function(result) {
                    updatePageWithContract(result)
                    var abi = document.getElementById('contract-abi').value
                    if (abi) {
                        abihtml = new AbiHtml(abi)
                        getEvents(true, makeNotification)
                    }
                })

        }, false)
        document.getElementById('deploy-contract').addEventListener('click', deployContract, false)
        document.getElementById('connect-instance').addEventListener('click', connectInstance, false)
        document.getElementById('gas').addEventListener('keyup', renderTxCostTotal, false)
        document.getElementById('gasprice-amount').addEventListener('keyup', renderTxCostTotal, false)
        document.getElementById('event-list').addEventListener('change', filterEvents)

        document.getElementById('gasprice-copy').addEventListener('click', function() {
            updateGasprice()
            renderTxCostTotal()
        }, false)

        document.getElementById('send-value').addEventListener('click', function() {
            txhash = web3.eth.sendTransaction(getTransactionOptions())

            // // below doesn't work because it doens't wait for it to be mined
            // web3.eth.getTransactionReceipt(txhash, function(err, txReceipt) {
            //     console.log(err, txReceipt)
            // })

            makeNotification('Sent transaction: <pre>' + txhash + '</pre>', 'warning')
        }, false)

        document.getElementById('sender-address').addEventListener('change', function() {
            var accounts = abihtml.GetAccounts(true)
            var wei = accounts[document.getElementById('sender-address').value]
            var unit = document.getElementById('gasprice-unit').value
            var text = web3.fromWei(wei, unit).toString() + ' ' + unit
            document.getElementById('sender-balance').value = text
        }, false)


        document.getElementById('copy-from').addEventListener('click', function() {
            var address = document.getElementById('sender-address').value
            document.getElementById('contract-address').value = address
            updateToBalance()
        }, false)

        document.getElementById('value-unit').addEventListener('change', function() {
            updateBalances()
            renderTxCostTotal()
            var address = document.getElementById('contract-address').value
            if (address)
                document.getElementById('contract-balance').innerHTML = formattedBalance(web3.eth.getBalance(address), document.getElementById('value-unit').value)
            else
                document.getElementById('contract-balance').innerHTML = ''
        }, false)

        document.getElementById('gasprice-unit').addEventListener('change', function() {
            // below will override the number part, which is ugly
            // this also requires us to update the maximum cost
            updateGasprice()
            renderTxCostTotal()
        }, false)


        document.getElementById('contract-selector').addEventListener('change', function() {
            var select = document.getElementById('contract-selector')
            var userContract = JSON.parse(select.options[select.selectedIndex].value)
            document.getElementById('contract-abi').value = JSON.stringify(userContract.info.abiDefinition)
            generatePage(abihtml)
            makeEventList(abihtml)
        })
    }

    window.onload = function() {
        var solGistId = getParameterByName('SOLIDITY_GIST')
        var abiGistId = getParameterByName('ABI_GIST')
        var toAddress = getParameterByName('TO_ADDRESS')

        // defaults
        if (!solGistId && !abiGistId) {
            if (window.location.protocol === "file:") {
                // debug
                solGistId = "c835f38889b989e8488c"
                toAddress = "0x63f33b08404987648ce2dde79715e14e8b69e4d8"
            } else if (window.location.host = 'tgerring.github.io') {
                // public
                abiGistId = "0e1b884de82d35053a34"
                toAddress = "0x21a3a128968f7fd17eb0a16045a84769374aeae0"
            }
        }

        if (toAddress) document.getElementById('contract-address').value = toAddress
        setHandlers()

        if (abiGistId) {
            makeNotification('Loading ABI Gist')
            callAjax('https://api.github.com/gists/' + abiGistId, function(result) {
                loadAbiGist(result, function(result) {
                    var abi = document.getElementById('contract-abi').value
                    if (abi) {
                        abihtml = new AbiHtml(abi)
                    }
                    generatePage(abihtml)
                    makeEventList(abihtml)
                    connectInstance()
                    if (testConnection) {
                        updateDashboard()
                        watchBlocks()
                        getEvents(true, function(results) {
                            makeNotification(results)
                        })


                    }
                })
            })
        } else if (solGistId) {
            makeNotification('Loading Solidity Gist')
            connectInstance()
            callAjax('https://api.github.com/gists/' + solGistId, function(result) {
                if (testConnection) {
                    updateDashboard()
                    watchBlocks()
                }
                loadSolidityGist(result, function(result) {
                    compileContract(result, function(result) {
                        updatePageWithContract(result)
                        var abi = document.getElementById('contract-abi').value
                        if (abi) {
                            abihtml = new AbiHtml(abi)
                            generatePage(abihtml)
                            makeEventList(abihtml)
                            getEvents(true, makeNotification)

                        }
                    })


                })
            })
        } else {
            connectInstance()
            if (testConnection) {
                document.getElementById('compile-contract').disabled = false
                updateDashboard()
                watchBlocks()
            }

        }
    }
    </script>
</head>

<body>
    <div id="header">
        <div id="header-wrapper">
            <div id="node">
                <button type="button" id="connect-instance">Connect</button>
                <samp>geth --rpc --rpcaddr "</samp>
                <input type="text" id="instance-hostname" value="127.0.0.1">
                <samp>" --rpcport "
                    <input type="text" id="instance-port" value="8545">" --rpccorsdomain "*" --unlock "&lt;ACCOUNT1&gt; &lt;ACCOUNT2&gt; &lt;ACCOUNT3&gt;"
                </samp>
                <p>
                    Block height: <span id="block-height">?</span> Best hash: <span id="block-hash">?</span> Estimated gas price: <span id="network-gasprice">?</span>
                </p>
            </div>
            <div id="dashboard">
                <div id="contract">
                    <label for="contract-code">Contract</label>
                    <button type="button" id="compile-contract" disabled>Compile</button>
                    <label for="contract-selector">Deploy contract:</label>
                    <select id="contract-selector" disabled></select>
                    <button type="button" id="deploy-contract" disabled>Deploy</button>
                    <br>
                    <textarea id="contract-code"></textarea>
                </div>
                <div id="abi">
                    <label for="contract-abi">Contract ABI</label>
                    <button type="button" id="generate-page">Generate Form</button>
                    <br>
                    <textarea id="contract-abi"></textarea>
                </div>
            </div>
            <div id="controls">
                <div>
                    <label for="sender-address">From:</label>
                    <select id="sender-address" class="in-address"></select>
                    <button type="button" id="copy-from">Copy To</button>
                </div>
                <div>
                    <label for="contract-address">To:</label>
                    <input id="contract-address" type="text" class="in-address">
                    <label for="contract-balance">Balance:</label>
                    <span id="contract-balance"></span>
                </div>
                <div>
                    <label for="value-amount">Value</label>
                    <input id="value-amount" type="text">
                    <select id="value-unit">
                        <option selected="">ether</option>
                        <option>finney</option>
                        <option>szabo</option>
                        <option>shannon</option>
                        <option>babbage</option>
                        <option>ada</option>
                        <option>wei</option>
                    </select>
                </div>
                <div>
                    <label for="gas">Gas:</label>
                    <input id="gas" type="text" class="" value="3000000">
                </div>
                <div>
                    <label for="gas-price">Gas price:</label>
                    <input id="gasprice-amount" type="text" class="" value="10">
                    <select id="gasprice-unit">
                        <option>ether</option>
                        <option>finney</option>
                        <option selected>szabo</option>
                        <option>shannon</option>
                        <option>babbage</option>
                        <option>ada</option>
                        <option>wei</option>
                    </select>
                    <button id="gasprice-copy">Sync estimate</button>
                </div>
                <div>
                    <span>Max cost: <span id="txcost-total">?</span></span>
                    <button id="send-value" type="button">Send</button>
                </div>
            </div>
        </div>
    </div>
    <div id="main">
        <div id="functions">
            <h2>Actions</h2>
            <div id="tab-container">
                <ul>
                </ul>
            </div>
            <div id="main-container">
            </div>
        </div>
        <div id="events">
            <h2>Notifications</h2>
            <select id="event-list"></select>
            <button type="button" id="clear-notifications">Clear all</button>
            <div id="notifications"></div>
        </div>
    </div>
    <div id="footer">
    </div>
</body>

</html>
