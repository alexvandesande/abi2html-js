<!doctype>
<html>

<head>
    <title>abi2html</title>
    <link rel="stylesheet" href="index.css">
    <script type="text/javascript" src="./dist/bignumber.min.js"></script>
    <script type="text/javascript" src="./dist/web3-light.js"></script>
    <script type="text/javascript" src="./abi2html.js"></script>
    <script type="text/javascript">
    var contracts;
    var render = function(element, items) {
        var el = document.getElementById(element);
        items.forEach(function(value) {
            el.appendChild(value)
        })
    }

    // set global events
    window.onload = function() {
        var abiString = '[{"constant":true,"inputs":[],"name":"m_dailyLimit","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"_addr","type":"address"}],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"type":"function"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldOwner","type":"address"}],"name":"OwnerRemoved","type":"event"}]'

        properties = {
            callFunction: function(v) {
                alert('custom call function!')
            },
            transactButtonText: 'DO NOT CLICK'
        }

        var abihtml = new AbiHtml(abiString, properties);
        var doc = abihtml.generateDocument();
        render('functions', doc.functions);
        render('events', doc.events);
    }

    window.onbeforeunload = function() {
        // unlikely this fires, but try to clean up after oneself
    }
    </script>
</head>

<body>
    <div id="wrapper">
        <div id="head">
            &nbsp;
        </div>
        <div id="top">
            &nbsp;
        </div>
        <div id="bottom">
            <div id="main">
                <div id="functions"></div>
            </div>
            <div id="status">
                <div id="events"></div>
            </div>
        </div>
        <div id="foot">
        </div>
    </div>
</body>

</html>
